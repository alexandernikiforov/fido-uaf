language: java

before_cache:
  - for lockFile in $(find ~/.gradle -name "*.lock");
    do sudo rm -rf $lockFile;
    done

cache:
  directories:
    - $HOME/.gradle

addons:
  apt:
    packages:
      - bash

after_failure:
  - ./gradlew clean check --debug

after_success:
  - ./gradlew jacocoMerge jacocoRootReport coveralls --info